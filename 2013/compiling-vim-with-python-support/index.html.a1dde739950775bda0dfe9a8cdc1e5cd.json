{"head":{"layout":"Post","date":"2013-11-18T00:00:00.000Z","route":"2013/compiling-vim-with-python-support","tags":["vim"],"title":"Compiling VIM with Python support","image":"/assets/compiling-vim-with-python-support.jpeg","imageUrl":"https://unsplash.com/photos/bk4HoBc4k60","imageAuthor":"Martin Ezequiel Sanchez","imageAuthorUrl":"https://unsplash.com/@mzeketv","imageProviderName":"Unsplash","imageProviderUrl":"https://unsplash.com/","primaryColor":"rgba(157, 118, 65, .8)","secondaryColor":"#e7eff6","linksColor":"#C92020","linksHoverColor":"#88C6C9","description":"When compiling VIM with specific version of Python support while there is different default version of Python on your system it's importantâ€¦"},"body":"<p>When compiling <a href=\"http://www.vim.org\">VIM</a> with specific version of Python\nsupport while there is different default version of Python on your system it's\nimportant to note following caveats:</p>\n<ul>\n<li>Pass <code>--with-python-config-dir</code> flag with the path to Python's <code>config</code>\ndirectory</li>\n<li>Remove <code>src/auto/config.cache</code> file if you've executed <code>./configure</code> before\nwithout passing the <code>--with-python-config-dir</code> flag. This was the tip I\nmissed and spent an hour or two on failing to compile properly</li>\n<li>Run <code>make clean</code> if you compiled VIM before and it didn't work out</li>\n</ul>\n<p>Anyways if in doubt here is the list of commands I had to execute in order to\nsuccessfully compile VIM with Python 2.7 support from scratch (make sure to\ncheck your Python's config directory path and adjust accordingly):</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-built_in\">cd</span> /usr/<span class=\"hljs-built_in\">local</span>/src\nwget ftp://ftp.vim.org/pub/vim/unix/vim-7.4.tar.bz2\ntar -xjf vim-7.4.tar.bz2\n<span class=\"hljs-built_in\">cd</span> vim74\n./configure --prefix=/usr \\\n--<span class=\"hljs-built_in\">enable</span>-pythoninterp \\\n--with-python-config-dir=/usr/<span class=\"hljs-built_in\">local</span>/lib/python2.7/config\nmake &#x26;&#x26; make install</code></pre>\n<div class=\"warning-box\">\n<p>Update on 19/11/2013</p>\n<p>If all above fails, I'd consider opening <code>./src/auto/config.log</code>\nfile and verifying that configuration script fetches correct\nversion of Python by searching for <code>python</code> string. If it fetches wrong\nversion of Python then I'd replace the file it tries to fetch (for\nexample <code>/usr/bin/python2</code>) with my specific\nversion of Python binary just before running configuration script\n(don't forget to remove <code>./src/auto/config.cache</code>) and rolling it back\nafter it finishes. A bit dumb method but it should work, please let\nme know if you can think of any better approach.</p>\n</div>\n","__filename":"posts/2013-11-18-compiling-vim-with-python-support.md","__url":"/2013/compiling-vim-with-python-support/","__resourceUrl":"/2013/compiling-vim-with-python-support/index.html","__dataUrl":"/2013/compiling-vim-with-python-support/index.html.a1dde739950775bda0dfe9a8cdc1e5cd.json"}